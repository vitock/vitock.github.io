<!doctype html><html lang=zh-CN><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content=#222><meta name=generator content="Hexo 5.2.0"><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon-next.png><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32-next.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16-next.png><link rel=mask-icon href=/images/logo.svg color=#222><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin=anonymous><script class=next-config data-name=main type=application/json>{"hostname":"vitock.github.io","root":"/","images":"/images","scheme":"Gemini","version":"8.7.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src=/js/config.js></script><meta name=description content="travis 太慢 git push后,经常travis要排队很久,可能是白嫖党太多了? 而且只支持public的repo,其实我只想把生成的html 公开,原始的markdown文件,和一些其他文件不想公开。 试试巨硬(Microsoft)的azure devops ，好在配置还算简单，直接开干"><meta property=og:type content=article><meta property=og:title content="hexo 从 travis 迁移到 azure devops"><meta property=og:url content=http://vitock.github.io/2020/10/28/84b0abdd036f/index.html><meta property=og:site_name><meta property=og:description content="travis 太慢 git push后,经常travis要排队很久,可能是白嫖党太多了? 而且只支持public的repo,其实我只想把生成的html 公开,原始的markdown文件,和一些其他文件不想公开。 试试巨硬(Microsoft)的azure devops ，好在配置还算简单，直接开干"><meta property=og:locale content=zh_CN><meta property=article:published_time content=2020-10-28T06:22:42.000Z><meta property=article:modified_time content=2021-08-12T02:14:02.852Z><meta property=article:author content=Vitock><meta property=article:tag content=流水帐><meta name=twitter:card content=summary><link rel=canonical href=http://vitock.github.io/2020/10/28/84b0abdd036f/ ><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://vitock.github.io/2020/10/28/84b0abdd036f/","path":"2020/10/28/84b0abdd036f/","title":"hexo 从 travis 迁移到 azure devops"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>hexo 从 travis 迁移到 azure devops |</title><script src=/js/third-party/analytics/baidu-analytics.js></script><script async src=https://hm.baidu.com/hm.js?49542d4f1ae3f2f35a0227ac6a0c62c6></script><noscript><link rel=stylesheet href=/css/noscript.css></noscript><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label=切换导航栏 role=button><span class=toggle-line></span> <span class=toggle-line></span> <span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title></h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>Vitock</div><div class=site-nav-right><div class="toggle popup-trigger"></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>首页</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>标签</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>归档</a><li class="menu-item menu-item-about"><a href=/about/ rel=section><i class="fa fa-user fa-fw"></i>关于</a></ul></nav></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span> <span class=toggle-line></span> <span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录<li class=sidebar-nav-overview>站点概览</ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link href=#travis-%E5%A4%AA%E6%85%A2><span class=nav-number>1.</span> <span class=nav-text>travis 太慢</span></a></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class=site-overview><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=Vitock src=/img/avatar/icon_0.webp><p class=site-author-name itemprop=name>Vitock<div class=site-description itemprop=description></div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/ ><span class=site-state-item-count>51</span> <span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/ ><span class=site-state-item-count>7</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/ ><span class=site-state-item-count>50</span> <span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-author site-overview-item animated"><span class=links-of-author-item><a href=https://github.com/vitock title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;vitock" rel=noopener target=_blank><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class=links-of-author-item><a href=https://weibo.com/2145843507/profile title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;2145843507&#x2F;profile" rel=noopener target=_blank><i class="fab fa-weibo fa-fw"></i>Weibo</a></span></div></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=back-to-top role=button aria-label=返回顶部><i class="fa fa-arrow-up"></i> <span>0%</span></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang=zh-CN><link itemprop=mainEntityOfPage href=http://vitock.github.io/2020/10/28/84b0abdd036f/ ><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content=/img/avatar/icon_0.webp><meta itemprop=name content=Vitock><meta itemprop=description content=""></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content=""></span><header class=post-header><h1 class=post-title itemprop="name headline">hexo 从 travis 迁移到 azure devops</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i> </span><span class=post-meta-item-text>发表于</span> <time title="创建时间：2020-10-28 14:22:42" itemprop="dateCreated datePublished" datetime=2020-10-28T14:22:42+08:00>2020-10-28</time> </span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder"></i> </span><span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/%E6%B5%81%E6%B0%B4%E5%B8%90/ itemprop=url rel=index><span itemprop=name>流水帐</span></a></span></span></div></div></header><div class=post-body itemprop=articleBody><h1 id=travis-太慢><a class=markdownIt-Anchor href=#travis-太慢></a> travis 太慢</h1><p>git push后,经常travis要排队很久,可能是白嫖党太多了?<p>而且只支持public的repo,其实我只想把生成的html 公开,原始的markdown文件,和一些其他文件不想公开。<br>试试巨硬(Microsoft)的azure devops ，好在配置还算简单，直接开干<p>把原始的文件提交到一个新的私有分支,通过azure pipline 绑定,<p>另外发现 devops还能cache<br>支持cache,可以把node_modules缓存起来,加快速度.<br>不过,cache只有7天有效期,对于不经常写的人,好像也没什么用。<hr><p>迁移到gitee 试试,可能会快一点.<p>好像不能自动部署?<p>2020-11-01 更新…<br><strong>真的不能自动部署!</strong><p>目前用的脚本自动运行一次,就是不知道token cookie什么时候过期,到时候再说吧。<p><a href=/about/ >发布状态</a><figure class="highlight yml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br></pre><td class=code><pre><span class=line><span class=attr>variables:</span></span><br><span class=line>  <span class=attr>npm_config_cache:</span> <span class=string>$(Build.SourcesDirectory)/node_modules</span></span><br><span class=line><span class=comment># 省略若干</span></span><br><span class=line><span class=comment># 省略若干</span></span><br><span class=line><span class=comment># 省略若干</span></span><br><span class=line></span><br><span class=line></span><br><span class=line><span class=bullet>-</span> <span class=attr>task:</span> <span class=string>Cache@2</span></span><br><span class=line>  <span class=attr>inputs:</span></span><br><span class=line>    <span class=attr>key:</span> <span class=string>&#x27;version0 |npm | &quot;$(Agent.OS)&quot; | package-lock.json&#x27;</span></span><br><span class=line>    <span class=attr>restoreKeys:</span> <span class=string>|</span></span><br><span class=line>       <span class=string>npm</span> <span class=string>|</span> <span class=string>&quot;$(Agent.OS)&quot;</span></span><br><span class=line>    <span class=attr>path:</span> <span class=string>$(npm_config_cache)</span></span><br><span class=line>    <span class=attr>cacheHitVar:</span> <span class=string>IS_NPM_MODULE_CACHED</span></span><br><span class=line>  <span class=attr>displayName:</span> <span class=string>Cache</span> <span class=string>npm</span></span><br><span class=line>  </span><br><span class=line>  <span class=bullet>-</span> <span class=attr>script:</span> <span class=string>|</span></span><br><span class=line>      <span class=string>echo</span> <span class=string>&#x27;found no cache&#x27;</span></span><br><span class=line>      <span class=string>npm</span> <span class=string>install</span></span><br><span class=line>    <span class=attr>condition:</span> <span class=string>ne(variables.IS_NPM_MODULE_CACHED,</span> <span class=string>&#x27;true&#x27;</span><span class=string>)</span></span><br><span class=line>    <span class=attr>displayName:</span> <span class=string>&#x27;npm install&#x27;</span></span><br><span class=line>  <span class=bullet>-</span> <span class=attr>script:</span> <span class=string>|</span></span><br><span class=line>        <span class=string>echo</span> <span class=string>&#x27;found cache and npm install skiped &#x27;</span></span><br><span class=line>    <span class=attr>condition:</span> <span class=string>eq(variables.IS_NPM_MODULE_CACHED,</span> <span class=string>&#x27;true&#x27;</span><span class=string>)</span></span><br><span class=line>    <span class=attr>displayName:</span> <span class=string>&#x27;skip npm install&#x27;</span></span><br></pre></table></figure></div><div class=popular-posts-header>相关文章</div><ul class=popular-posts><li class=popular-posts-item><div class=popular-posts-title><a href=/2020/12/04/5a2700a540d2/ rel=bookmark>中国量子计算原型机“九章”问世</a></div><li class=popular-posts-item><div class=popular-posts-title><a href=/2020/03/18/2cb47a24ea95/ rel=bookmark>晴,微风</a></div><li class=popular-posts-item><div class=popular-posts-title><a href=/2020/04/21/925e38a0401b/ rel=bookmark>既然你没钱,那就多花点时间吧</a></div><li class=popular-posts-item><div class=popular-posts-title><a href=/2020/05/07/18c58a4f2e1e/ rel=bookmark>开始全面复工了</a></div><li class=popular-posts-item><div class=popular-posts-title><a href=/2020/05/10/48c7e5616924/ rel=bookmark>拔牙 & 儿子受伤</a></div></ul><footer class=post-footer><div class=post-tags><a href=/tags/%E6%B5%81%E6%B0%B4%E5%B8%90/ rel=tag><i class="fa fa-tag"></i> 流水帐</a></div><div class=post-nav><div class=post-nav-item><a href=/2020/10/21/541a3f0129ff/ rel=prev title=ECC椭圆曲线加密><i class="fa fa-chevron-left"></i> ECC椭圆曲线加密</a></div><div class=post-nav-item><a href=/2020/10/29/b82da486fb2b/ rel=next title=两个中华帝国之间的历史（二）：逐鹿中原｜经典回顾>两个中华帝国之间的历史（二）：逐鹿中原｜经典回顾 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments gitalk-container"></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>&copy; <span itemprop=copyrightYear>2021</span> <span class=with-love><i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>Vitock</span></div></div></footer><script src=https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin=anonymous></script><script src=/js/comments.js></script><script src=/js/utils.js></script><script src=/js/motion.js></script><script src=/js/next-boot.js></script><script src=/js/pjax.js></script><script class=next-config data-name=enableMath type=application/json>false</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css integrity="sha256-55Ddc47WvWTK5vYVejnAuSK7USJaL7FQXrzQ4HiQ1WY=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin=anonymous><script class=next-config data-name=gitalk type=application/json>{"enable":true,"github_id":"vitock","repo":"vitock.github.io","client_id":"e7f10b97367d65ffb9e5","client_secret":"2e83b75434ccccb749d08eddbb0599330d46835e","admin_user":"vitock","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":"en | zh-CN","js":{"url":"https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js","integrity":"sha256-Pmj85ojLaPOWwRtlMJwmezB/Qg8BzvJp5eTzvXaYAfA="},"path_md5":"b24b0610a0aa920e702f1774b750c456"}</script><script src=/js/third-party/comments/gitalk.js></script>
